package ro.uaic.feaa.psi.sgsm.test.repository;

import java.util.List;

import junit.framework.Assert;

import ro.uaic.feaa.psi.sgsm.model.entities.Angajat;
import ro.uaic.feaa.psi.sgsm.model.entities.Furnizor;
import ro.uaic.feaa.psi.sgsm.model.entities.Localitate;
import ro.uaic.feaa.psi.sgsm.model.repository.MasterRepository;
import ro.uaic.feaa.psi.sgsm.model.repository.MasterRepositoryDefault;

public class TestAngajati {

	static MasterRepository repo = new MasterRepositoryDefault();

	public static void main(String[] args) {
		List<Angajat> angajati = repo.findAngajatiAll();
		//daca nu sunt angajati introducem cateva date de test
		if (angajati.size() == 0) {
			addAngajati();
			angajati = repo.findAngajatiAll();
		}
		//verificam daca sunt date de test (ar trebui sa existe, la acest moment)
		Assert.assertTrue(angajati.size()>0);
	}

	private static void addAngajati() {
		repo.beginTransaction();
		List<Localitate> localitati = repo.findLocalitatiAll();
		

		Angajat a = null;
		int i = 0;
		for (Localitate loc : localitati) {
			i++;
			
			a = new Angajat(null, "Nume " + 1, "Prenume " + 1, "adresa" + i + "@email.com", "telefon" + 1, "123456789123", "24/03/1990");
			a.setLocalitate(loc);
			repo.addAngajat(a);
		}
		
		
		repo.commitTransaction();
	}
}